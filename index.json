[{"content":"","date":null,"permalink":"/","section":"","summary":"","title":""},{"content":"","date":null,"permalink":"/posts/","section":"","summary":"","title":""},{"content":" Há algum tempo venho pensando em escrever sobre o assunto que traterei neste post. A verdade é que ele era para ter sido publicado no mês de setembro, para casar com as mensagens do Setembro Amarelo, mas eu ainda não conseguia escrever sobre. As ideias estavam na cabeça, mas a vontade de escrever não vinha. A verdade é que a ideia de escrever sobre isso veio há dois anos atrás, quando alguns eventos em minha vida profissional me fizeram questionar muitos aspectos sobre a responsabilidade da minha saúde mental.\nTudo o que escrevo aqui é baseado em minha própria experiência no assunto, sem algum tipo de pretensão de ser\nEu convivo com a depressão a pouco mais de 10 anos agora. Já foi muito ruim, não que hoje não seja, mas você aprende a conviver com esta realidade.\n","date":"13 dezembro 2022","permalink":"/posts/bom-dia-time-como-estamos/","section":"","summary":"Há algum tempo venho pensando em escrever sobre o assunto que traterei neste post. A verdade é que ele era para ter sido publicado no mês de setembro, para casar com as mensagens do Setembro Amarelo, mas eu ainda não conseguia escrever sobre.","title":"Bom dia time! Como estamos?"},{"content":"","date":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":null,"permalink":"/tags/personal-improvement/","section":"Tags","summary":"","title":"Personal-Improvement"},{"content":"","date":null,"permalink":"/categories/random/","section":"Categories","summary":"","title":"Random"},{"content":"","date":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"Deploy Cert Manager #kubectl create ns cert-manager helm repo add jetstack https://charts.jetstack.io helm repo update helm install \\ cert-manager jetstack/cert-manager \\ -n cert-manager \\ --version v1.1.0 \\ --set installCRDs=true openssl genrsa -out ca.key 2048 openssl req -x509 -new -nodes -key ca.key -subj \u0026#34;/CN=integr8.me\u0026#34; -days 3650 -reqexts v3_req -extensions v3_ca -out ca.crt kubectl create secret tls integr8-ca-key-pair \\ -n cert-manager \\ --cert=ca.crt \\ --key=ca.key \\ apiVersion: cert-manager.io/v1 kind: ClusterIssuer metadata: name: integr8me namespace: sandbox spec: ca: secretName: integr8-ca-key-pair crlDistributionPoints: - \u0026#34;https://integr8.me\u0026#34; kubectl apply \\ -n cert-manager \\ -f cert-manager-cluster-issuer.yml kubectl create ns tekton-pipelines kubectl apply \\ -n tekton-pipelines \\ -f https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml \\ -f https://storage.googleapis.com/tekton-releases/triggers/latest/release.yaml \\ -f https://github.com/tektoncd/dashboard/releases/latest/download/tekton-dashboard-release.yaml \\ -f tekton-ingress-dashboard.yml kubectl create ns tekton-builds kubectl apply -n tekton-builds -f rbac-and-account.yml apiVersion: v1 kind: ServiceAccount metadata: name: tekton-triggers-sa secrets: - name: gh-token --- apiVersion: rbac.authorization.k8s.io/v1 kind: Role metadata: name: tekton-triggers-roles rules: - apiGroups: [\u0026#34;triggers.tekton.dev\u0026#34;] resources: [\u0026#34;eventlisteners\u0026#34;, \u0026#34;triggerbindings\u0026#34;, \u0026#34;triggertemplates\u0026#34;, \u0026#34;triggers\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] - apiGroups: [\u0026#34;\u0026#34;] resources: [\u0026#34;configmaps\u0026#34;, \u0026#34;secrets\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] - apiGroups: [\u0026#34;tekton.dev\u0026#34;] resources: [\u0026#34;pipelineruns\u0026#34;, \u0026#34;pipelineresources\u0026#34;, \u0026#34;taskruns\u0026#34;] verbs: [\u0026#34;create\u0026#34;] - apiGroups: [\u0026#34;\u0026#34;] resources: [\u0026#34;serviceaccounts\u0026#34;] verbs: [\u0026#34;impersonate\u0026#34;] - apiGroups: [\u0026#34;policy\u0026#34;] resources: [\u0026#34;podsecuritypolicies\u0026#34;] resourceNames: [\u0026#34;tekton-triggers\u0026#34;] verbs: [\u0026#34;use\u0026#34;] --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: tekton-triggers-binding subjects: - kind: ServiceAccount name: tekton-triggers-sa roleRef: apiGroup: rbac.authorization.k8s.io kind: Role name: tekton-triggers-roles --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1 metadata: name: tekton-triggers-clusterrole rules: - apiGroups: [\u0026#34;triggers.tekton.dev\u0026#34;] resources: [\u0026#34;clustertriggerbindings\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: tekton-triggers-clusterrolebinding subjects: - kind: ServiceAccount name: tekton-triggers-sa namespace: tekton-builds roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: tekton-triggers-clusterrole ","date":"1 março 2021","permalink":"/posts/tekton-instalation/","section":"","summary":"Deploy Cert Manager #kubectl create ns cert-manager helm repo add jetstack https://charts.jetstack.io helm repo update helm install \\ cert-manager jetstack/cert-manager \\ -n cert-manager \\ --version v1.1.0 \\ --set installCRDs=true openssl genrsa -out ca.","title":"Pipelines com o Tekton - Instalação"},{"content":" Características É um projeto Open Source mantido pela CNCF\nTodas os elementos são objetos do Kubernetes\nÉ focado em reutilização(TriggerBinding, TriggerTemplate, Pipeline, Task)\nSeu funcionamento se dá pela implementação de `CRD`s(Custom Resource Definition) customizados para cada um dos elementos descritos posteriormente.\nEcossistema Tekton Triggers - Pacote com os CRDs referentes a escuta de eventos e como respondê-los;\n[Tekton Pipelines](https://tekton.dev/docs/pipelines/) - Pacote com os CRDs referentes a construção de tasks, recursos e elementos referentes a pipeline;\n[Tekton Dashboard](https://tekton.dev/docs/dashboard/) - Interface para consumir informações de execuções de pipelines;\n[Tekton Hub](https://hub-preview.tekton.dev/) - Coleção de tasks disponíveis para execução de determinadas tarefas;\n[CLI Tool](https://tekton.dev/docs/cli/) - Ferramenta de linha de comando para consumir informações e executar ações no ecossistema;\nTekton Triggers [EventListener](https://tekton.dev/docs/triggers/eventlisteners/) - Elemento responsável por interceptar as requisições feitas ao endereço do Ingress;\n[Trigger](https://tekton.dev/docs/triggers/triggers/) - Elemento responsável por configurar os gatilhos que ativarão determinadas `TriggerTemplate`s;\n[TriggerBinding](https://tekton.dev/docs/triggers/triggerbindings/) - Permite a captura de informações de um evento, e transformação em um parâmetro consumível pela Pipeline;\n[TriggerTemplate](https://tekton.dev/docs/triggers/triggertemplates/) - Cria um template de invocação de algum elemento do pacote de pipelines. (Eg. PipelineRun, TaskRun).\nEventListener Cria uma Service que pode ser anexado a um Ingress para receber requisições externas (eg. Endereço utilizado no webhook do repositório);\nÉ a entidade que aglomerá os Trigger`s que tratarão as requisições ao `EventListener.\nTrigger O chaveamento entre qual pipeline deve ser executada é feito utilizando `interceptor`s;\nPor padrão possui interceptors para Github, Gitlab, Github e CEL.\nO interceptor CEL é o mais versátil, definindo filtros e overlays às informações.\nFiltros: Informa quais campos da requisição vai disparar o gatilho. (eg. \u0026#34;header.match(\u0026#39;X-GitHub-Event\u0026#39;, \u0026#39;pull_request\u0026#39;)\u0026#34;);\nOverlays: Executa transformações em campos da requisição, para consumo na pipeline. (eg. \u0026#34;body.pull_request.head.sha.truncate(7)\u0026#34;).\nTriggerBinding Traduz campos da requisição para parâmetros que serão consumidos na pipeline.\nOs campos do envolope HTTP disponíveis são os Headers e Body.\n* name: triggered-event value: $(header.X-Github-Event) * name: event-action value: $(body.action) TriggerTemplate Neste objeto são configurados os templates padrão para cada evento disparado em um dos Triggers;\nRecebe os parâmetros de uma TriggerBinding e os atribui a um PipelineRun ou TaskRun;\nTekton workflow diagram Tekton Pipelines [Pipeline](https://tekton.dev/docs/pipelines/pipelines/) - Objeto que agrupa `Task`s comuns à pipeline;\n[PipelineRun](https://tekton.dev/docs/pipelines/pipelineruns/) - Instancia e executa uma Pipeline;\n[PipelineResource](https://tekton.dev/docs/pipelines/resources/) - Objetos que serão utilizados como entradas/saídas de uma Task;\n[Task](https://tekton.dev/docs/pipelines/tasks/) - É uma coleção de Steps a serem executados para conclusão de uma determinada tarefa;\n[TaskRun](https://tekton.dev/docs/pipelines/taskruns/) - Instancia e executa uma determinada Task;\nPipeline Agrupa Tasks para um fim específico;\nOs parâmetros são inputados por um objeto PipelineRun;\nPode possuir recursos que são esperados.(Eg. repositório, pullrequest, imagem docker)\nVários repositórios podem consumir a mesma pipeline, com parâmetros diferentes.\nOs volumes, utilizados para transição de informações entre Tasks são denominados workspaces.\nWorkspaces podem ser utilizados para reutilizar bibliotecas e acelerar o processo de build (node_modules(nodejs/frontend), .terraform(:P), .m2(JAVA), vendor(PHP))\nPipelineResource Ajudam a abstrair os recursos consumidos por uma Pipeline/Task;\nPodem ser de entrada(input), ou de saída(output);\nPodem ser dos tipos: Git, PullRequest, Image, Cluster, GCS e CloudEvent.\nTask O padrão [init-container](https://www.magalix.com/blog/kubernetes-patterns-the-init-container-pattern) é utilizado para garantir a execução ordenada das tasks\nÉ executada em um Pod no cluster;\nPossui uma versão que transpõem o namespace ClusterTask;\nCada Step dentro de uma Task é traduzido em um container sendo executado.\nComo um objeto do Kubernetes, pode consumir outros objetos, como ConfigMaps e Secrets.\napiVersion: tekton.dev/v1beta1 kind: ClusterTask metadata: name: webhook-debug annotations: description: | Imprime as informações informadas pelo webhook spec: params: - name: pipelinerun-name description: Nome do pipelinerun executado - name: repo-name description: Nome do repositório steps: - name: print-webhook-informations image: alpine:latest script: | #!/usr/bin/env sh echo \u0026#34;$(inputs.params.pipelinerun-name)\u0026#34; echo \u0026#34;$(inputs.params.repo-name)\u0026#34; graph TD; PipelineRun --\u0026gt;|Instancia uma pipeline com determinados parâmetros| Pipeline; Pipeline --\u0026gt;|Instancia uma lista de tarefas| TaskRun; TaskRun --\u0026gt;|Instancia uma tarefa| Task; Task --\u0026gt;|Executa procedimentos para execução de uma tarefa| Steps; ","date":"1 março 2021","permalink":"/posts/tekton-introduction/","section":"","summary":"Características É um projeto Open Source mantido pela CNCF\nTodas os elementos são objetos do Kubernetes\nÉ focado em reutilização(TriggerBinding, TriggerTemplate, Pipeline, Task)\nSeu funcionamento se dá pela implementação de `CRD`s(Custom Resource Definition) customizados para cada um dos elementos descritos posteriormente.","title":"Pipelines com o Tekton - Introdução"},{"content":"","date":null,"permalink":"/tags/tekton/","section":"Tags","summary":"","title":"Tekton"},{"content":"","date":null,"permalink":"/categories/tekton/","section":"Categories","summary":"","title":"Tekton"},{"content":"Um dos maiores desafios atuais dos desenvolvedores é a implementação agnóstica aos ambientes disponíveis. Mas isso, infelizmente, nem sempre é a realidade, principalmente se você utiliza o Linux em seu desktop ou notebook, e necessita fazer testes em ambientes Windows. Para resolver tais problemas diversos são disponíveis, e grande parte delas envolvem tecnologias de virtualizações de ambientes. Dois são os aplicativos principais no mercado atualmente, o VMWare e o Virtualbox, e por motivos de sinergia entre as ferramentas disponíveis(Vagrant), utilizaremos o VirtualBox.\nNosso primeiro passo será adicionar o repositório do VirtualBox à nossa lista de repositórios, executando o comando abaixo.\necho \u0026#34;deb http://download.virtualbox.org/virtualbox/debian $(lsb_release -cs) contrib\u0026#34; \u0026gt; /etc/apt/sources.list.d/virtualbox.list Adicionado o repositório, também precisamos adicionar sua chave, validando sua confiabilidade. Para tal, execute o comando abaixo.\nwget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add - wget -q -O - http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc | apt-key add - Incluído o repositório e sua chave, é hora de avisar ao apt que existe um repositório novo a ser lido, atualizando sua lista, e instalar o pacote:\nsudo apt update --fix-missing \u0026amp;\u0026amp; apt install virtualbox-5.1 O pacote do VirtualBox encontra-se instalado, porém é necessário instalar suas extensões para ter acesso a diversos recursos disponíveis do pacote, como habilitar dispositivos USB nas máquinas convidadas, diretórios compartilhados, melhorias nos dispositivos gráficos, entre outros.\nPara tal, execute a linha de comando abaixo, que baixará a última versão disponível neste data, no site do VirtualBox.\nhttp://download.virtualbox.org/virtualbox/5.1.22/Oracle_VM_VirtualBox_Extension_Pack-5.1.22-115126.vbox-extpack Baixado o arquivo, execute o comando abaixo para instalá-lo!\nsudo VBoxManage extpack install Oracle_VM_VirtualBox_Extension_Pack-5.1.22-115126.vbox-extpack --replace ","date":"22 junho 2017","permalink":"/posts/20170622-instalando-o-virtualbox-no-ubuntu/","section":"","summary":"Um dos maiores desafios atuais dos desenvolvedores é a implementação agnóstica aos ambientes disponíveis. Mas isso, infelizmente, nem sempre é a realidade, principalmente se você utiliza o Linux em seu desktop ou notebook, e necessita fazer testes em ambientes Windows.","title":"Instalando o virtualbox 5.1 no ubuntu"},{"content":"","date":null,"permalink":"/categories/ops/","section":"Categories","summary":"","title":"Ops"},{"content":"","date":null,"permalink":"/tags/ubuntu/","section":"Tags","summary":"","title":"Ubuntu"},{"content":"","date":null,"permalink":"/tags/virtualbox/","section":"Tags","summary":"","title":"Virtualbox"},{"content":"Sobre #","date":"1 janeiro 0001","permalink":"/about/","section":"","summary":"Sobre #","title":""},{"content":" Sequence diagram Sequence diagram ","date":"1 janeiro 0001","permalink":"/posts/o-mundo-nao-e-dos-espertos/","section":"","summary":" Sequence diagram Sequence diagram ","title":"O mundo nao é dos espertos"}]